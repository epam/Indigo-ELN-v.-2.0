@use 'sass:list';

@mixin generate($prefix, $properties) {
  $sizes: 2, 4, 8, 12, 16, 20, 24, 32, 40, 48;
  $base-font-size: 16;

  @for $i from 1 through list.length($sizes) {
    $size: list.nth($sizes, $i);
    $rem-size: calc($size / $base-font-size) * 1rem;

    .#{$prefix}-#{$i} {
      @each $property in $properties {
        #{$property}: $rem-size;
      }
    }
  }
}

$rules: (
  m: margin,
  p: padding,
  ml: margin-left,
  mt: margin-top,
  mb: margin-bottom,
  mr: margin-right,
  pl: padding-left,
  pt: padding-top,
  pb: padding-bottom,
  pr: padding-right,
  px: padding-left padding-right,
  py: padding-top padding-bottom,
  mx: margin-left margin-right,
  my: margin-top margin-bottom,
  gx: column-gap row-gap,
  gy: column-gap row-gap,
  g: gap,
);

@each $label, $props in $rules {
  @include generate($label, $props);
}
